## 4.2 스트림 시작하기

자바 8의 컬렉션에서는 `stream()` 메서드가 추가되었다. 컬렉션 이외에도 숫자 범위나, I/O 등으로 스트림 요소를 만드는 등 다양한 방법으로 스트림을 얻을 수 있다. 

그렇다면 스트림이 뭘까?
스트림은 **데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 요소**라고 정의할 수 있다.
- **연속된 요소**
	- 스트림은 특정 요소 형식으로 이루어진 연속된 값의 집합의 인터페이스를 제공한다.
- **소스**
	- 스트림은 다양한 제공 소스로부터 데이터를 만드는데, 이 떄 정렬된 컬렉션으로 스트림을 생성한다면 정렬이 그대로 유지된다.
- **데이터 처리 연산**
	- 스트림은 일반적으로 함수형 프로그래밍 언어에서 지원하는 연산과 DB에서 제공하는 연산들과 비슷한 연산을 제공한다. 

또, 스트림에는 다음과 같은 두 가지 중요 특징이 있다. 
- **파이프라이닝**
	- 대부분의 스트림 연산들은 다른 연산과 파이프라인을 구성할 수 있도록 스트림을 반환한다. 
	- 이 덕분에 **Laziness**, **short-circuiting**과 같은 최적화를 얻을 수도 있다
- **내부 반복**
	- 컬렉션과 달리 스트림은 반복 연산을 내부적으로 지원한다.

다음의 코드를 통해 조금 더 살펴보자.
```java
List<String> threeHighCaloricDishNames = 
	menu.stream()
		.filter(dish -> dish.getCalories() > 300)
		.map(Dish::getName)
		.limit(3)
		.collect(toList());
System.out.println(threeHighCaloricDishNames);
```

우리는 `menu` 컬렉션에서 스트림을 얻었으며, 데이터 소스는 `menu`에 해당한다.
이후에 스트림에는 일련의 데이터 처리 연산이 적용된다.
`collect()`를 제외한 연산들은 모두 파이프라인을 형성하기 위해 스트림을 반환한다. 
마지막으로 `collect()` 메서드는 파이프라인을 처리해 결과를 반환한다. 

각각의 메서드들은 다음과 같이 사용되었다.
- `filter()` : 람다를 인수로 받아 스트림에서 특정 요소를 제외시킨다. 
	- 예제에서는 `d -> d.getCalories() > 300` 이라는 람다를 사용해 칼로리가 300 이상인 요리들만 선택했다.
- `map()` : 람다를 이용해 한 요소를 다른 요소로 변환하거나, 정보를 추출한다. 
	- `Dish::getName` 이라는 메서드 참조를 통해 각 요리에 대한 요리 명을 추출한다.
- `limit()` : 정해진 개수만큼만 스트림에서 가져온다.
- `collect()` : 스트림을 다른 형식으로 변환한다.
